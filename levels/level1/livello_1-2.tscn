[gd_scene load_steps=28 format=3 uid="uid://kjb1pivduitq"]

[ext_resource type="Script" uid="uid://oo267t4xl1pu" path="res://levels/level1/scripts/spawner_1-2.gd" id="1_dt8w8"]
[ext_resource type="PackedScene" uid="uid://cx71uodgqqh3n" path="res://levels/scenes/mission_start.tscn" id="2_rb3sc"]
[ext_resource type="PackedScene" uid="uid://swhr6w8kahsf" path="res://levels/scenes/mission_complete.tscn" id="3_ur440"]
[ext_resource type="PackedScene" uid="uid://cve3mrdrtc0r" path="res://assets/enemies/enemy_base.tscn" id="4_ethpc"]
[ext_resource type="PackedScene" uid="uid://2dd1o17p1a5e" path="res://assets/enemies/enemy_spitfire_new.tscn" id="5_m3uc6"]
[ext_resource type="PackedScene" uid="uid://dwf76xip60nni" path="res://assets/enemies/enemy_strafer_new.tscn" id="6_w6bmr"]
[ext_resource type="PackedScene" uid="uid://ivho43p005il" path="res://assets/enemies/enemy_orbital_new.tscn" id="7_0lq7p"]
[ext_resource type="PackedScene" uid="uid://cutma30egf2pu" path="res://assets/enemies/enemy_sniper_new.tscn" id="8_vm0ln"]
[ext_resource type="PackedScene" uid="uid://d2plmggggw6qp" path="res://assets/bosses/boss_eagleone_2.tscn" id="9_qorxc"]
[ext_resource type="PackedScene" uid="uid://3uls4o7kyg48" path="res://levels/scenes/boss_entering.tscn" id="10_t3ps1"]
[ext_resource type="PackedScene" uid="uid://cxajt724a5ul0" path="res://levels/level1/scenes/end_level02.tscn" id="11_ethpc"]
[ext_resource type="PackedScene" uid="uid://dkd2heos5bbqe" path="res://assets/characters/powerups/PowerUpD.tscn" id="12_wx3lv"]
[ext_resource type="PackedScene" uid="uid://dmw20jex2ykxy" path="res://assets/characters/powerups/PowerUpE.tscn" id="13_87o12"]
[ext_resource type="PackedScene" uid="uid://bfaq0tks540w1" path="res://assets/characters/powerups/PowerUpS.tscn" id="14_tgpin"]
[ext_resource type="PackedScene" uid="uid://cvmtctn1vwjlh" path="res://assets/characters/powerups/PowerUpW.tscn" id="15_38gbb"]
[ext_resource type="PackedScene" uid="uid://b8judt8newgkh" path="res://ui.tscn" id="16_3533i"]
[ext_resource type="Script" uid="uid://qridl4ou6p0s" path="res://levels/level1/scripts/sfondo_scorrimento.gd" id="17_tvybq"]
[ext_resource type="Script" uid="uid://coo0wq7ce70vv" path="res://levels/level1/scripts/scrolling_manager.gd" id="18_20yo4"]
[ext_resource type="Texture2D" uid="uid://0suxntxarqhj" path="res://levels/level1/images/terrain.png" id="21_fqup2"]
[ext_resource type="Texture2D" uid="uid://cxhmx0hnlfh8g" path="res://levels/level1/images/terrain_02.png" id="22_ethpc"]
[ext_resource type="Texture2D" uid="uid://bx7ctqxr6hcey" path="res://levels/level1/images/cloud_tile_2.png" id="22_to308"]
[ext_resource type="Texture2D" uid="uid://cnnrf4l0fo5dy" path="res://levels/level1/images/terrain_03.png" id="23_m3uc6"]
[ext_resource type="Shader" uid="uid://ljvo33uh1a5y" path="res://scanlines.gdshader" id="23_o2tu5"]
[ext_resource type="AudioStream" uid="uid://cuqhu7hb88hnk" path="res://levels/level1/audio/normal.ogg" id="24_hrtah"]
[ext_resource type="Texture2D" uid="uid://bikxmjh4rtexc" path="res://levels/level1/images/terrain_04.png" id="24_w6bmr"]
[ext_resource type="AudioStream" uid="uid://lad8h1drrxn5" path="res://levels/level1/audio/eagleone_boss.ogg" id="25_yt6x6"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_vwq56"]
shader = ExtResource("23_o2tu5")
shader_parameter/line_density = 4.0
shader_parameter/line_darkness = 0.6

[node name="Livello1-2" type="Node2D"]

[node name="WaveManager" type="Node" parent="." node_paths=PackedStringArray("level_music", "boss_music")]
script = ExtResource("1_dt8w8")
start_level_scene = ExtResource("2_rb3sc")
level_completed_scene = ExtResource("3_ur440")
base_enemy_scene = ExtResource("4_ethpc")
spitfire_enemy_scene = ExtResource("5_m3uc6")
strafer_enemy_scene = ExtResource("6_w6bmr")
orbital_enemy_scene = ExtResource("7_0lq7p")
sniper_enemy_scene = ExtResource("8_vm0ln")
boss_enemy_scene = ExtResource("9_qorxc")
boss_entering_scene = ExtResource("10_t3ps1")
boss_defated_scene = ExtResource("11_ethpc")
powerup_scenes = Array[PackedScene]([ExtResource("12_wx3lv"), ExtResource("13_87o12"), ExtResource("14_tgpin"), ExtResource("15_38gbb")])
level_music = NodePath("../MusicaLivello")
boss_music = NodePath("../MusicaBoss")
level_tag = "1.2"

[node name="Timer" type="Timer" parent="WaveManager"]
wait_time = 1.5
autostart = true
ignore_time_scale = true

[node name="UI" parent="." instance=ExtResource("16_3533i")]

[node name="SfondoScorrimento" type="ParallaxBackground" parent="."]
script = ExtResource("17_tvybq")
scroll_speed = 350.0

[node name="GroundManager" type="Node2D" parent="SfondoScorrimento"]
z_index = -100
script = ExtResource("18_20yo4")
textures = Array[Texture2D]([ExtResource("21_fqup2"), ExtResource("21_fqup2"), ExtResource("21_fqup2"), ExtResource("21_fqup2"), ExtResource("22_ethpc"), ExtResource("21_fqup2"), ExtResource("22_ethpc"), ExtResource("23_m3uc6"), ExtResource("23_m3uc6"), ExtResource("24_w6bmr")])

[node name="SegmentoA" type="TextureRect" parent="SfondoScorrimento/GroundManager"]
offset_right = 2048.0
offset_bottom = 2048.0
texture = ExtResource("21_fqup2")
stretch_mode = 1

[node name="SegmentoB" type="TextureRect" parent="SfondoScorrimento/GroundManager"]
offset_right = 2048.0
offset_bottom = 1024.0
texture = ExtResource("22_ethpc")
stretch_mode = 1

[node name="SegmentoD" type="TextureRect" parent="SfondoScorrimento/GroundManager"]
offset_right = 2048.0
offset_bottom = 1024.0
texture = ExtResource("23_m3uc6")
stretch_mode = 1

[node name="SegmentoC" type="TextureRect" parent="SfondoScorrimento/GroundManager"]
offset_right = 2048.0
offset_bottom = 1024.0
texture = ExtResource("24_w6bmr")
stretch_mode = 1

[node name="StratoNuvole" type="ParallaxLayer" parent="SfondoScorrimento" groups=["strato_nuvole"]]
motion_scale = Vector2(0.7, 0.7)
motion_mirroring = Vector2(0, 2048)

[node name="TextureRect" type="TextureRect" parent="SfondoScorrimento/StratoNuvole"]
modulate = Color(1, 1, 1, 0.745098)
offset_right = 2048.0
offset_bottom = 4096.0
scale = Vector2(0.5, 0.5)
texture = ExtResource("22_to308")
expand_mode = 1
stretch_mode = 1

[node name="EffettiPostProcessing" type="CanvasLayer" parent="."]
layer = 128

[node name="ColorRect" type="ColorRect" parent="EffettiPostProcessing"]
material = SubResource("ShaderMaterial_vwq56")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="MusicaLivello" type="AudioStreamPlayer" parent="."]
stream = ExtResource("24_hrtah")
volume_db = 7.0
bus = &"Music"

[node name="MusicaBoss" type="AudioStreamPlayer" parent="."]
stream = ExtResource("25_yt6x6")
bus = &"Music"
parameters/looping = true

[connection signal="timeout" from="WaveManager/Timer" to="WaveManager" method="_on_timer_timeout"]
